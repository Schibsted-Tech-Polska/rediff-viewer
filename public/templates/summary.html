<%
    var total = report.metadata.tests.count;
    var completed = report.metadata.tests.completed;
    var failing = report.metadata.tests.failing;
    var succeed = completed - failing;
    var pending = total - completed;
    var duration = parseInt((report.metadata.finished - report.metadata.started) / 1000);
%>

<div class="card card-offset">
    <div class="card-content">
        <span class="card-title black-text">
            <i class="material-icons">assignment</i> Rediff Report for <%= report.project %>
        </span>
        <p>We found a report for the last run from <%= new Date(report.metadata.started).toISOString() %>.</p>
        <p>
           The report contains <strong><%= completed %></strong> out of <strong><%= total %></strong> tests
            <% if(completed === total) { %>analyzed in <%= duration %>s.<% } %>
        </p>
    </div>
</div>

<div class="card blue lighten-2">
    <div class="card-content">
        <span class="card-title white-text">
            <i class="material-icons">info_outline</i> <strong><%= completed - failing %></strong> tests succeed
        </span>
    </div>
</div>

<% if(failing > 0) { %>
<div class="card red lighten-2">
    <div class="card-content">
        <span class="card-title white-text">
            <i class="material-icons">error_outline</i> <strong><%= failing %></strong> tests failed
        </span>
    </div>
</div>
<% } %>

<% if(pending > 0) { %>
<div class="card grey lighten-2">
    <div class="card-content">
        <span class="card-title black-text">
            <i class="material-icons">query_builder</i> <strong><%= pending %></strong> tests still in progress
        </span>
    </div>
</div>
<% } %>

<div class="card">
    <div class="card-content">
        <span class="card-title black-text">
            Keyboard navigation
        </span>
        <p class="keyboard-shortcuts">
            <span>&larr;</span> select previous environment
        </p>
        <p class="keyboard-shortcuts">
            <span>&rarr;</span> select next environment
        </p>
        <p class="keyboard-shortcuts">
            <span>ctrl</span> + <span>&larr;</span> select previous viewport
        </p>
        <p class="keyboard-shortcuts">
            <span>ctrl</span> + <span>&rarr;</span> select next viewport
        </p>
        <p class="keyboard-shortcuts">
            <span>ctrl</span> + <span>&uarr;</span> select previous spec
        </p>
        <p class="keyboard-shortcuts">
            <span>ctrl</span> + <span>&darr;</span> select next spec
        </p>

        <br>

        <p class="keyboard-shortcuts">Working on Mac? Use <span>cmd</span> instead of <span>ctrl</span></p>
    </div>
</div>
