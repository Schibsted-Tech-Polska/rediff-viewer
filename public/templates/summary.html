<%
    var total = report.metadata.tests.count;
    var completed = report.metadata.tests.completed;
    var failing = report.metadata.tests.failing;
    var succeed = completed - failing;
    var pending = total - completed;
    var duration = parseInt((report.metadata.finished - report.metadata.started) / 1000);
%>

<div class="card card-offset">
    <div class="card-content">
        <span class="card-title black-text">
            <i class="material-icons">assignment</i> Rediff Report for <%= report.project %>
        </span>
        <p>We found a report for the last run from <%= new Date(report.metadata.started).toISOString() %>.</p>
        <p>
           The report contains <strong><%= total %></strong> tests
            <% if(completed === total) { %>analyzed in <%= duration %>s.<% } %>
        </p>
    </div>
</div>

<div class="card blue lighten-5">
    <div class="card-content">
        <span class="card-title blue-text">
            <i class="material-icons">assignment</i> <strong><%= completed %></strong> tests succeed
        </span>
    </div>
</div>

<div class="card red lighten-5">
    <div class="card-content">
        <span class="card-title red-text">
            <i class="material-icons">assignment</i> <strong><%= failing %></strong> tests failed
        </span>
    </div>
</div>

<% if(pending > 0) { %>
<div class="card grey lighten-2">
    <div class="card-content">
        <span class="card-title black-text">
            <i class="material-icons">assignment</i> <strong><%= pending %></strong> tests still in progress
        </span>
    </div>
</div>
<% } %>
